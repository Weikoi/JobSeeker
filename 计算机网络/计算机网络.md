## 计算机网络基础
（参考自顶向下）

---
---
### 网络基础
#### 计算机网络中的常见概念

1. 何为计算机网络协议？

协议，即规则的集合。计算机的网络协议指的是为了网络中的数据交换而建立的规则与标准；特点是控制对等实体之间的通信，是水平的。低层的协议对高层是透明的。

2. 何为接口？

接口指的是相邻两层之间信息交换的连接点

3. 何为服务？

服务指的是下层为相邻上层提供的功能调用，是垂直的关系。



#### 面向连接和无连接服务的区别？

* 面向连接服务中，通信的双方必须先建立连接，分配相应的资源，用以保证通信可以顺利进行，传输结束后再回收相关资源。是一种可靠的服务。

* 无连接服务中，通信前双方不需要先建立连接，需要发送数据时直接发送，把带有目的地址的数据包直接传送到线路上，由系统选定路线进行传输，只会尽最大努力交付，是一种不可靠的服务。

#### 可靠服务和不可靠服务的区别？

* 可靠服务指的是网络中有纠错、检错、应答等机制，可以保证数据正确可靠地传送到目的地；

* 不可靠服务指网络尽量正确的传送，但是不能保证数据可以正确可靠地到达目的地。

#### OSI传输协议以及对应每一层的功能与传输单位？

1. 物理层

功能是在物理硬件上为设备端透明地传输原始比特流，传输单位是比特；

2. 数据链路层

功能是将网络层的IP数据包组装成数据帧，传输单位是帧；

3. 网络层

功能是将网络分组从源端传送到目的端，为分组进行路由的选择。传输单位是IP数据报；

4. 传输层

功能是负责主机两个进程间的通信，传输单位是报文段（TCP）或者用户数据报（UDP）；

5. 会话层

负责处理不同主机上各进程之间的会话。

6. 表示层

处理两个通讯系统之间交换信息的表示方式。（数据压缩、加密和解密等）

7. 应用层

为应用提供访问OSI的手段

#### TCP/IP 协议

1. 网络接口层 或者叫 链路层（OSI 下两层）

2. 网际层 或者叫 网络层

3. 传输层

4. 应用层（OSI 上三层）

---
---
### 应用层协议

### HTTP

#### HTTP和HTTPS的关系？


---
---
### 传输层协议
### TCP

#### TCP三次握手和四次挥手？



#### 为什么TIME_WAIT状态还需要等2MSL后才能返回到CLOSED状态？


TIME_WAIT状态由两个存在的理由。

（1）可靠的实现TCP全双工链接的终止。

这是因为虽然双方都同意关闭连接了，而且握手的4个报文也都协调和发送完毕，按理可以直接回到CLOSED状态（就好比从SYN_SEND状态到ESTABLISH状态那样）；但是因为我们必须要假想网络是不可靠的，你无法保证你最后发送的ACK报文会一定被对方收到，因此对方处于LAST_ACK状态下的SOCKET可能会因为超时未收到ACK报文，而重发FIN报文，所以这个TIME_WAIT状态的作用就是用来重发可能丢失的ACK报文。

（2）允许老的重复的分节在网络中消逝。

假设在12.106.32.254的1500端口和206.168.1.112.219的21端口之间有一个TCP连接。我们关闭这个链接，过一段时间后在 相同的IP地址和端口建立另一个连接。后一个链接成为前一个的化身。因为它们的IP地址和端口号都相同。TCP必须防止来自某一个连接的老的重复分组在连 接已经终止后再现，从而被误解成属于同一链接的某一个某一个新的化身。为做到这一点，TCP将不给处于TIME_WAIT状态的链接发起新的化身。既然 TIME_WAIT状态的持续时间是MSL的2倍，这就足以让某个方向上的分组最多存活msl秒即被丢弃，另一个方向上的应答最多存活msl秒也被丢弃。 通过实施这个规则，我们就能保证每成功建立一个TCP连接时。来自该链接先前化身的重复分组都已经在网络中消逝了。
